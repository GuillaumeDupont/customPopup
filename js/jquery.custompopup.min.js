var popupExist=false;(function(e){e.fn.popup=function(t,n){var r={customClass:null,opacityOverlay:.65,duration:"fast",closeButtonName:"close",minWidth:300,minHeight:50,maxWidth:"50%",maxHeight:"50%",background:"#ffffff"};e.extend(r,n);var i="An error occured";var s="ajaxContent";var o="htmlContent";var u="body";var a="custom-popup";var f=a+"-overlay";var l=a+"-content";var c="#"+a;var h="#"+f;var p="."+l;var d="#"+s;var v="#"+o;var m=r.closeButtonName;var g=this;g.css({cursor:"pointer"});this.close=function(){e(c).stop(true,true).fadeTo(r.duration,0,function(){e(h).fadeTo(r.duration,0,function(){e(c).stop(true,true).removeClass(r.customClass).hide().empty();e(h).stop(true,true).hide()})})};var y=function(t){e(t).css({top:b(t),left:w(t)}).stop(true,true).fadeTo(r.duration,1)};var b=function(e){var t=(window.innerHeight/2-e.height()/2)*100/window.innerHeight;return t.toFixed(2)+"%"};var w=function(e){var t=(window.innerWidth/2-e.width()/2)*100/window.innerWidth;return t.toFixed(2)+"%"};var E=function(){e(h).css({position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000000",zIndex:9998});e(p).css({position:"relative"});e(c).css({minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,backgroundColor:r.background,overflow:"auto",position:"fixed",padding:"25px 15px 15px",zIndex:9999});e(c+" ."+m).css({fontSize:20,textTransform:"uppercase",position:"absolute",right:10,top:5,cursor:"pointer",display:"block"})};var S=function(){e(u).append("<div id='"+a+"' style='display:none;'></div>");e(u).append("<div id='"+f+"' style='display:none;'></div>")};var x=function(t){return!!e(t)[0]};var T=function(e){if(e[0]!="#"&&e[0]!="."){return false}else{return true}};if(T(t)){e(t).css({display:"none"})}var N=function(){if(!popupExist){S();popupExist=true}return};this.open=function(){var n,u,a;if(x(t)&&!T(t)){N();e(c).append("<div id='"+o+"'></div>");e(v).append(t).addClass(l);n=e(v);a=true;u=false}else if(!T(t)&&!x(t)){N();e(c).append("<div id='"+s+"'></div>");e(d).load(t,function(t,n,r){if(n=="error"){e(this).append("<p>"+i+" : "+r.status+" "+r.statusText+"</p>")}}).addClass(l);n=e(d);a=false;u=true}else if(T(t)){n=e(t);u=a=false}if(n.length>0){N();if(!u&&!a&&e(c+" "+t).length==0){n.clone().appendTo(c).addClass(l)}e(c).append('<span class="'+m+'">X</span>');if(r.customClass!=null){e(c).addClass(r.customClass)}e(c+" ."+m).on("click",g.close);e(p).show();e();E();e(h).fadeTo(r.duration,r.opacityOverlay,y(e(c))).stop(true,true).on("click",g.close);return g}};return g.on("click",g.open)}})(jQuery)